# Тест перевірка

Тест перевірка - очікування розробника стосовно поведінки об'єкту, що тестується виражене якоюсь умовою. Це найнижча структурна одиниця тестування.

Більшість перевірок приймаю два аргументи і порівнюючи їх видають позитивний або негативний результат тестування:

- отримані дані
- очікувані дані

[Тест кейс](TestCase.md) складається із одної або декількох перевірок. Достатньо лише однієї перевірки із результатом '"failed" щоб увесь об'єкт, що тестується вважався таким, що не пройшов тестування.

### Приклад тест кейса з перевірками

![test.check](../../images/test.check.png)

На рисунку зображено тест кейс `join strings` з трьома тест перевірками. Кожна з перевірок порівнює два значення. Перше отримане з допомогою методу `join`, а друге, очікуване значення, задане розробником.

## Позитивне тестування

Тестування коректності роботи об'єкта тестування за нормальних умов, при відсутності помилок в вхідних даних та нормальному стані.

Для позитивного тестування застосовуються такі перевірки:
- а
- б
- в

## Негативне тестування

Тестування коректності обробки об'єктом тестування помилкових даних чи помилкового стану.

Для негативного тестування застосовуються такі перевірки:
- а
- б
- в

### Перелік перевірок

##### Тест перевірка `is`

Очікує єдиний аргумент типу `bool-like`.

Перевірка проходиться, якщо аргумент `true-like`, тобто, `true` або числове значення відмінне від нуля.

Перевірка провалюється, якщо аргумент `false-like`, тобто, `false` чи числове значення `0`.

Повертає `true`, якщо перевірку пройдено та `false`, якщо перевірка провалилася.

```
var got = true;
test.is( got );
```

Перевірку `test.is` буде пройдено так, як в момент перевірки змінна `got` має значення `true`.

##### Тест перевірка `isNot`

Очікує єдиний аргумент типу `bool-like`.

Перевірка проходиться, якщо аргумент `false-like`, тобто, `false` або числове значення рівне нулю.

Перевірка провалюється, якщо аргумент `true-like`, тобто, `true` або числове значення відмінне від нуля.

```
var got = false;
test.isNot( got );
```

Перевірку `test.isNot` буде пройдено так, як в момент перевірки змінна `got` має значення `false`.

##### Тест перевірка `isNotError`

Очікує єдиний аргумент типу `error-like`.

Перевірка проходиться, якщо аргумент `noError-like`, тобто, має числове або рядкове значення.

Перевірка провалюється, якщо аргумент `error-like`, тобто, аргумент повертає помилку.

```
var got = 1;
test.isNotError( got );
```

Перевірку `test.isNotError` буде пройдено так, як в момент перевірки змінна `got` має значення числове значення.

##### Тест перевірка `identical`

Крім повної форми, має скорочену - `il`.

Очікує два аргументи одного типу - числового, рядкового або булевого.

Перевірка проходиться, якщо передані аргументи повністю співпадають.

Перевірка провалюється, якщо значення аргументів відрізняються. Відхилення числових значень не враховується.

```
var got = 'ok';
var expected = 'ok';
test.identical( got,expected );
```

Перевірку `test.identical` буде пройдено так, як в момент перевірки обидва значення ідентичні.

##### Тест перевірка `notIdentical`

Крім повної форми, має скорочену - `ni`.

Очікує два аргументи числового, рядкового або булевого типу.

Перевірка проходиться, якщо передані аргументи не співпадають.

Перевірка провалюється, якщо аргументи повністю ідентичні. Відхилення числових значень не враховується.

```
var got = '1';
var expected = '1.00001';
test.identical( got,expected );
```

Перевірку `test.notIdentical` буде пройдено так, як в перше значення відрізняється від другого на `0.00001`. 

##### Тест перевірка `equivalent`

Крім повної форми, має скорочену - `et`.

Очікує два аргументи числового, рядкового або булевого типу.

Перевірка проходиться, якщо передані аргументи співпадають. В тому числі, відбувається співставлення булевих і числових значень: "0" - "false" i "1" - "true". При перевірці числових значень враховується похибка

Перевірка провалюється, якщо значення аргументів не співпадають. Відхилення числових значень враховується.

```
var got = '1';
var expected = '1.00001';
test.equivalent( got,expected );
```

Перевірку `test.equivalent` буде провалено так, як значення похибки за замовчуванням 1е-7. 

```
function routine( test )
{
var got = '1';
var expected = '1.00001';
test.equivalent( got,expected );
}
routine.accuracy = 1e-4
```
Перевірку `test.equivalent` буде пройдено так, як значення похибки в тест рутині `routine` встановлено в 1е-4. 

##### Тест перевірка `notEquivalent`

Перевірка на неспівпадіння двох значень. Повертає `true`, якщо значення не співпадають. В перевірках математичних функцій може використовувати відхилення для перевірки входження в діапазон допустимих значень. Скорочена форма запису - `ne`.

##### Тест перевірка `contains`

Перевірка повертає `true`, якщо перший елемент співпадає з другим. Якщо порівнюються пари ключ-значення об'єктів, то повертає `true` якщо перший елемент містить пари ключ-значення ідентичні другому.

##### Тест перевірка `gt`

Умова "більше ніж". В перевірку передається два аргумента, якщо значення першого більше від другого, повертається `true`.

##### Тест перевірка `ge`

Умова "більше або дорівнює". Передається два аргумента, якщо значення першого більше або рівне другому, повертається `true`.

##### Тест перевірка `lt`

Умова "менше ніж". Передається два аргумента, якщо значення першого менше від другого, повертається `true`.

##### Тест перевірка `le`

Умова "менше або дорівнює". Передається два аргумента, якщо значення першого менше або рівне другому, повертається `true`.

##### Тест перевірка `shouldThrowErrorSync`

Повертає `true`, якщо виконання переданої функції генерує помилку в синхронному виконанні. Аргументом перевірки має бути функція.

##### Тест перевірка `shouldThrowErrorAsync`

Повертає `true`, якщо виконання переданої функції генерує помилку в асинхронному режимі. Аргументом перевірки має бути функція.

##### Тест перевірка `shouldThrowError`

Повертає `true`, якщо виконання переданої функції генерує помилку. Аргументом перевірки має бути функція.

##### Тест перевірка `mustNotThrowError`

Повертає `true`, якщо виконання переданої функції не генерує помилку. Аргументом перевірки має бути функція.

##### Тест перевірка `shouldMessageOnlyOnce`

Повертає `true` якщо при виконанні переданої рутини, вона повертає лише одне повідомлення. Аргументом перевірки має бути функція.
