# Як отримати довідку

Як отримати загальну довідку.

Для отримання довідки запустіть утиліту без аргументів командою

```
tst
```

<details>
  <summary><u>Вивід команди <code>tst</code></u></summary>

```
[user@user ~]$ tst
Scenarios :
  test : run tests, default scenario
  help : get help
  options.list : list available options
  scenarios.list : list available scenarios
  suites.list : list available suites

Tester options
  scenario : Name of scenario to launch. To get scenarios list use scenario : "scenarios.list". Try: "node Some.test.js scenario:scenarios.list"
  sanitareTime : Delay between runs of test suites and after the last to get sure nothing throwen asynchronously later.
  fails : Maximum number of fails allowed before shutting down testing.
  beeping : Make diagnosticBeep sound after testing to let developer know it's done.
  coloring : Switch on/off coloring.
  timing : Switch on/off measuing of time.
  rapidity : How rapid teststing should be done. Increasing of the option decrase number of test routine to be executed. For rigorous testing 0 or 1 should be used. 5 for the fastest. Default is 3.
  routineTimeOut : Limits the time that each test routine can use. If execution of routine takes too long time then fail will be reaported and error throwen. Default is 5000 ms.
  concurrent : Runs test suite in parallel with other test suites.
  verbosity : Level of details of report. Zero for nothing, one for single line report, nine for maximum verbosity. Default is 5. Short-cut: "v". Try: "node Some.test.js v:2"
  importanceOfNegative : Increase verbosity of test checks which fails. It helps to see only fails and hide passes. Default is 9. Short-cut: "n".
  silencing : Hooking and silencing of object's of testing console output to make clean report of testing.
  shoulding : Switch on/off all should* tests checks.
  accuracy : Change default accuracy. Each test routine could have own accuracy, which cant be overwritten by this option.

```

</details>

Виводиться довідка про сценарії виконання та опції процесу тестування. Наприклад, сценарій `suites.list` виводить перелік доступних сюітів без виконання фактичного тестування, а опція `verbosity` дає можливість керувати рівнем вербальності звітів.

### Сценарії утиліти `Testing`

Сценарій - опція, яка визначає поведінку утиліти при виконанні команди над файлами. Секція `Scenarios` довідки налічує п'ять сценаріїв.

##### Сценарій `test`

Встановлений за замовчуванням якщо при виклику передано шлях до тестів. Запускає тестування тест сюітів у вказаній директорії.

Команда `tst path/to/dir scenario:test` знайде і запустить на виконання всі тест сюіти в директорії `path/to/dir`, що аналогічно команді `tst path/to/dir`

##### Сценарій `help`

Встановлений за замовчуванням якщо при виклику не передано шляху до тестів. Виводить перелік сценаріїв та опцій. Не робить читання або запис файлів.

Команда `tst scenario:help` дасть повну довідку, що аналогічно виклику `tst` без жодних аргументів.

##### Сценарій `options.list`

Виводить довідку по опціям утиліти. Не робить читання або запис файлів.

Команда `tst scenario:options.list` перерахує всі опції відомі утиліті `Testing`.

##### Сценарій `scenarios.list`

Виводить довідку по сценаріям утиліти. Не робить читання або запис файлів.

Комадна `tst scenario:scenarios.list` видасть перелік сценаріїв відомі утиліті `Testing`.

##### Сценарій `suites.list`

Знаходить і перераховує всі тест сюіти у вказаній директорії. Запуск тестування не здійснюється.

Команда `tst path/to/dir scenario:suites.list` перерахує всі тест сюіти в директорії `path/to/dir`.

### Опції запуску та опції сюіта

Утиліта має опції призначені для управлінням процесом тестування.

Опції запуску задаються при запуску через інтерфейс командного рядка:

```
tst . verbosity:7
```

Рівень вербальноссті встановлений на рівень `7`.

Тоді, як опції тест сюіта задаються в тестовому файлі:

```
var Self =
{

  name : 'TestSuiteName',
  verbosity : 9,

  tests :
  {
    routine1,
    routine2,
  }

}

wTestSuite( Self );
```

Рівень вербальноссті встановлений на рівень `9`. Більшість опцій запуску має пріорітет над опціями тест сюіта. По цій причині в прикладі рівень вербальності буде `7`, а не `9`.

##### Опція запуска `scenario`

Здійснює запуск обраного сценарія утиліти. Перелік і опис сценаріїв приведено вище.

Приклад виклику: `tst path/to/dir scenario:suites.list`.

##### Опція запуска `sanitareTime`

Встановлює затримку між завершенням тест сюіта і запуском наступного.

Опція призначена для завершення виконання перевірок з асинхронними функціями. Вказується в мілісекундах. За замовчуванням встановлено 500мс.

Команда `tst path/to/dir sanitareTime:1000` здійснить тестування в указаній директорії, затримка перед запуском наступного тест сюіта встановлена в одну секунду.

##### Опція запуска `fails`

Встановлює кількість отриманих помилок для дострокового завершення тестування.

При досягненні указаного числа помилок утиліта завершує тестування. За замовчуванням кількість помилок не обмежена.

Команда `tst path/to/dir fails:5` здійснить тестування в указаній директорії, якщо при тестуванні буде провалено п'ять перевірок, то тестування завершиться.

##### Опція запуска `beeping`

Призначена для ввімкнення звукового оповіщення по завершенню тестування.

Опція має два значення: 1 - ввімкнене, 0 - вимкнене. За замовчуванням - 1.

Команда `tst path/to/dir beeping:0` завершить тестування тихо, не просигналізувавши звуковим сигналом.

##### Опція запуска `coloring`

Призначена для ввімкнення кольорового маркування звіту тестування.

Опція має два значення: 1 - ввімкнене, 0 - вимкнене. За замовчуванням - 1.

Приклад: `tst path/to/dir coloring:0`. Вивід звіту тестування буде простим, без кольорового маркування результатів.

##### Опція запуска `timing`

Призначена для ввімкнення замірів часу витраченого на тестування.

Опція має два значення: 1 - ввімкнене, 0 - вимкнене. За замовчуванням - 1.

Приклад: `tst path/to/dir timing:0`. Після завершення тестування у звіті буде відсутні дані про час тестування.

##### Опція запуска `rapidity`

Опція регулює час затрачений на тестування. Кожна тест рутина може мати власну опцію `rapidity` від `1` до `5`. За замовчуванням опція тест `rapidity` має значення `3`. При виконанні тестування із `rapidity` вищим за `rapidity` рутини така рутина просто не виконується.

Приймає значення від 1 до 5, де 1 - найповільніше тестування, 5 - найшвидше. За замовчуванням - 3.

Команда `tst path/to/dir rapidity:1` здійснить тестування кожної тест рутини.

Команда `tst path/to/dir rapidity:4` пропустить всі тест рутини для яких `rapidity` не вказано `4` або `5`.

##### Опція запуска `testRoutineTimeOut`

Опція обмежує час, за який кожна тест рутина має пройти тестування. Кожна тест рутина може мати власний `timeOut`. Якщо тест рутина має власний `timeOut` то значення опції запуску `testRoutineTimeOut` не впливає на неї.

Якщо рутина не була протестована за вказаний час, то вона позначається як провалена ( червоним ).

Вказується в мілісекундах. За замовчуванням встановлено 5000мс.

Команда `tst path/to/dir testRoutineTimeOut:60000` дасть кожній тест рутині без явно встановленого `timeOut` хвилину на її виконання.

##### Опція запуска `concurrent`

Призначена для ввімкнення паралельного виконання тест сюітів.

При наявності в одній директорії декількох тест сюітів, утиліта може виконувати їх одночасно.

Має два значення: 1 - ввімкнене, 0 - вимкнене, тестування проходить по черзі. За замовчуванням - 0.

Команда `tst path/to/dir concurrent:1` запустить паралелньо тест сюіти в директорії `path/to/dir`.

##### Опція запуска `verbosity`

Виставляє рівень вербальності звіта тестування, тобто, кількістю виведеної інформації.

Приймає значення від 0 до 9. При встановленому значенні 0 не виводить жодного рядка. При значенні 9 звіт максимально повний. За замовчуванням - 4.

Тест сюіт може мати опцію `verobisty`. В цьому випадку значення встановлена в тест сюіті має пріорітет над опцією запуску.

Команда `tst path/to/dir verbosity:5` дасть більш детальний звіт про тестування виводячи інформацію про кожну перевірку. За замовчуванням окрема інформація по пройденій успішно перевірці не виводиться.

##### Опція запуска `importanceOfNegative`

Призначена для обмеження виводу інформації по рутинам зі статусом `ok` / `pass` і збільшення об'єму інформації про перевірки зі статусом `failed`.

Приймає значення від 0 до 9. За замовчуванням - 2.

Команда `tst path/to/dir importanceOfNegative:0` виведе звіт без деталізації інформації про перевірки, що провалилися.

##### Опція запуска `silencing`

Дозволяє приховати власний вивід об'єкта, що тестується в консоль. Об'єкт тестування та код тест рутини може мати власний вивід. Цей вивід може погіршити читабельність звіту про тестування. 

Опція запуску `silencing` має пріоритет над опцією тест сюіта.

Опція має два значення: 1 - ввімкнене, 0 - вимкнене. За замовчуванням - 0.

Команда `tst path/to/dir silencing:1` дасть чистий звіт без додаткового виводу об'єкта, що тестується.

##### Опція запуска `shoulding`

Призначена для вимкнення негативного тестування. Тест перевірки, що починаються з `should*` можуть бути вимкнені цією опцією.

Опція має два значення: 1 - ввімкнене, 0 - вимкнене. За замовчуванням - 1.

Команда `tst path/to/dir shoulding:0` виконає тестування пропускаючи всі `should*` перервіки.

##### Опція запуска `accuracy`

Опція встановлює допустиме числове відхилення при порівнянні числових значень.

За замовчуванням встановлено `1е-7`.

Команда `tst path/to/dir accuracy:1e-4` змінить результат такої тестової перевірки:

```js
test.equivalent( 1, 1.00001 );
```

За замовчуванням ця тестова перевірка провалюється. Проте опція запуску `accuracy:1e-4` змінює допустиму похибку тому така перевірка проходиться.

### Підсумок

- Для отримання довідки використайте сценарій `help`. Він виконується при запуску утиліти без аргументів або з указанням аргумента `scenario:help`.
- Для отримання списку тест сюітів використовується сценарій `suites.list`.
- Опції запуску та опції сюіта керують процесом тестування.
- Опції запуску мають пріорітет над опціями тест сюіта.
