# Test suite "Hello World!"

Creating a simple test suite.

<details>
  <summary><u>Module structure</u></summary>

```
testHello
    ├── Join.js
    ├── Join.test.js    
    └── package.json

```

</details>

Create the file structure above for routine testing.

### Test object

<details>
    <summary><u>Code of file <code>Join.js</code></u></summary>

```js    
module.exports.join = function( a, b )
{
  return String( a ) + String( b );
}

```

</details>

Enter the code above into the `Join.js` file.

The `join` function performs the concatenation of two strings. It is exported for use.

### Test file

The test suite `Join.test.js` has the suffix` .test` so that the testing utility could find it.

<details>
    <summary><u>Code of file <code>Join.test.js</code></u></summary>

```JavaScript    

let _ = require( 'wTesting' );
let Join = require( './Join.js' );

//

function routine1( test )
{
  test.identical( Join.join( 'Hello ', 'world!' ), 'Hello world!' );
}

//

function routine2( test )
{

  test.case = 'pass';
  test.identical( Join.join( 1, 3 ), '13' );

  test.case = 'fail';
  test.identical( Join.join( 1, 3 ), 13 );

}

//

var Self =
{
  name : 'Join',
  tests :
  {
    routine1,
    routine2,
  }
}

//

Self = wTestSuite( Self );
if( typeof module !== 'undefined' && !module.parent )
wTester.test( Self.name );

```

</details>

Enter the code above into the `Join.test.js` file.

<details>
    <summary><u>Структура тест файла на прикладі <code>Join.test.js</code></u></summary>

![join.test.png](../../images/join.test.png)

</details>

На приведеному рисунку показана структура тестового файла. Вона складається з чотирьох основних елементів:
- підключення залежностей;
- визначення тест рутин;
- визначення тест сюіта;
- секція запуску тест сюіта.

### Секція підключення залежностей

Секція призначена для підключення в тест файл залежностей потрібних для тестування.

В приведеному коді підключено дві залежності. Перша - утиліта `Testing` для здійснення тесту. Друга - файл `Join.js` з рутиною для тестування.

<details>
    <summary><u>Код файла <code>package.json</code></u></summary>

```json    
{
  "dependencies": {
    "wTesting": ""
  }
}

```

</details>

Внесіть приведений код з залежностями для тестування. Їх завантаження здійснюється командою `npm install` в директорії модуля.

### Секція визначення тест рутин

Друга секція призначена для опису тестових рутин. Тест рутина - рутина ( функція, метод ) розроблена для тестування, якогось із аспектів об'кту тестування. Тест рутина може включати:
- початкові дані, об'явлення змінних (за необхідності);
- тест кейси;
- тест [перевірки](../TestCheck.md).

В приведеному коді в рядках 7-23 приведено дві тест рутини. Перша, з назвою `routine1`, виконує одну тест перевірку на співпадіння отриманого і очікуваного значення. Друга тест рутина має назву `routine2` і включає два тест кейси - `pass` i `fail`. Перевірка в тест кейсі `pass` має пройти, так як порівнюються рядкові значення, а в тест кейсі `fail` - провалитись, бо рутина `Join.join` повертає рядок "13", а очікується число `13`.

Розробник може помістити в секцію необхідну кількість тест рутин для тестування обраного об'єкту. Кожна з тест рутин може містити довільну кількість тест кейсів і тест перевірок.

### Секція визначення тест сюіта

Секція призначенна для об'явлення тест сюіта - найвищої структурної одиниці тестування. Тест файл має містити лише один тест сюіт.

Для визначення тест сюіту він має містити назву і набір тест рутин. Посилання на тест рутини поміщаються в секції `tests`. Додатково, в об'явленні тест сюіта можуть міститись [додаткові опції](TestOptions.md), котрі керують процесом тестування.

Згідно приведеного коду, файл `Join.test.js` містить тест сюіт `Join`. Тест сюіт має дві тест рутини. Тест сюіт не містить додаткових опцій.

### Cекція запуску тест сюіта

Рядки 39-41 містять функції для запуску тестування.
В 39-ому рядку відбувається створення тест сюіта. А в рядках 40-41 відбувається його запуска. Без рядків 40-41 тест файл не можливо буде запустити напряму `node Join.test.js`.

### Підсумок

- Файл тест сюіта має суфікс `.test` для того, щоб утиліта для тестування могла знайти його.
- Для зручності управління процесом тестування кожен тест сюіт має знаходитися у окремому файлі.
- Тест файл складається з чотирьох основних частин: підключення залежностей, визначення тест рутин, визначення тест сюіта, запуск тест сюіта.
- Розробник визначає потрібну кількість тест рутин, тест кейсів і тест перевірок.
- Об'явлення тест сюіту має містити назву і набір тест рутин. Додатково можуть бути об'явлені опції тестування.

[Повернутись до змісту](../README.md#Туторіали)
